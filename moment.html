<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Moment ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">

<style>
body{
margin:0;
background:#fff0f6;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
height:100vh;
font-family:'Sacramento',cursive;
overflow:hidden;
text-align:center;
}

/* CONTENT */
#content{
transition:opacity .6s ease, transform .6s ease;
}

h1{
font-size:2.8rem;
margin-bottom:10px;
}

img{
width:200px;
max-width:75vw;
border-radius:50%;
margin:20px 0;
box-shadow:0 0 35px rgba(255,105,150,.5);
}

p{
font-size:1.6rem;
line-height:1.7;
}

/* BUTTONS */
.btn{
margin-top:20px;
padding:12px 36px;
border:none;
border-radius:30px;
background:#ff6b9d;
color:white;
font-size:1.4rem;
font-family:'Sacramento',cursive;
cursor:pointer;
}

#musicToggle{
position:absolute;
top:20px;
right:20px;
font-size:1.6rem;
padding:10px 18px;
}

/* FIREWORKS */
.firework{
position:fixed;
font-size:26px;
animation:explode 2.5s linear forwards;
pointer-events:none;
}

@keyframes explode{
0%{
opacity:1;
transform:scale(1);
}
100%{
opacity:0;
transform:scale(2.5);
}
}
</style>
</head>

<body>

<!-- MUSIC TOGGLE -->
<button id="musicToggle" class="btn">ğŸµ Music OFF</button>

<div id="content">

<h1>Our Moment ğŸ’–</h1>

<img src="heart.jpg" alt="Heart">

<p>
If youâ€™re smiling right now,<br>
thatâ€™s all I ever wanted.
</p>

<button class="btn" onclick="replay()">Replay ğŸ”</button>

</div>

<!-- AUDIO -->
<audio id="music" loop>
<source src="song.mp3" type="audio/mpeg">
</audio>

<script>
const music = document.getElementById("music");
const toggleBtn = document.getElementById("musicToggle");
const content = document.getElementById("content");

let musicOn = false;

/* FADE IN */
function fadeInMusic(){
music.volume = 0;
music.play();

let vol = 0;
const fade = setInterval(() => {
vol += 0.05;
if(vol >= 0.6){
vol = 0.6;
clearInterval(fade);
}
music.volume = vol;
},100);
}

/* FADE OUT */
function fadeOutMusic(callback){
let vol = music.volume;

const fade = setInterval(() => {
vol -= 0.05;

if(vol <= 0){
vol = 0;
clearInterval(fade);
music.pause();
music.currentTime = 0;
if(callback) callback();
}

music.volume = vol;

},100);
}

/* TOGGLE BUTTON */
toggleBtn.onclick = () => {

if(!musicOn){
fadeInMusic();
toggleBtn.innerHTML = "ğŸµ Music ON";
musicOn = true;
}
else{
fadeOutMusic();
toggleBtn.innerHTML = "ğŸµ Music OFF";
musicOn = false;
}

};

/* FIREWORKS */
const fireworks = ["ğŸ†","ğŸ‡","âœ¨","ğŸ’¥","ğŸ’–","ğŸŒŸ"];

function launchFireworks(){

for(let i=0;i<50;i++){

setTimeout(()=>{

const f=document.createElement("div");
f.className="firework";
f.innerText=fireworks[Math.floor(Math.random()*fireworks.length)];

f.style.left=Math.random()*100+"vw";
f.style.top=Math.random()*100+"vh";

document.body.appendChild(f);

setTimeout(()=>f.remove(),2500);

},i*60);

}

}

/* REPLAY BUTTON */
function replay(){

content.style.opacity="0";
content.style.transform="scale(.95)";

launchFireworks();

fadeOutMusic(()=>{

setTimeout(()=>{
location.href="index.html";
},2000);

});

}
</script>

</body>
  </html>
